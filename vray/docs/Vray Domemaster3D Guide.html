<!DOCTYPE html>
<html>
<head>
<title>readme</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=============================================================================*/

img {
  max-width: 100%
}
</style>
<style type="text/css">
.highlight  { background: #ffffff; }
.highlight .c { color: #999988; font-style: italic } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { font-weight: bold } /* Keyword */
.highlight .o { font-weight: bold } /* Operator */
.highlight .cm { color: #999988; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #999999; font-weight: bold } /* Comment.Preproc */
.highlight .c1 { color: #999988; font-style: italic } /* Comment.Single */
.highlight .cs { color: #999999; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .gd .x { color: #000000; background-color: #ffaaaa } /* Generic.Deleted.Specific */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #999999 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .gi .x { color: #000000; background-color: #aaffaa } /* Generic.Inserted.Specific */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #aaaaaa } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { font-weight: bold } /* Keyword.Constant */
.highlight .kd { font-weight: bold } /* Keyword.Declaration */
.highlight .kp { font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #445588; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #009999 } /* Literal.Number */
.highlight .s { color: #d14 } /* Literal.String */
.highlight .na { color: #008080 } /* Name.Attribute */
.highlight .nb { color: #0086B3 } /* Name.Builtin */
.highlight .nc { color: #445588; font-weight: bold } /* Name.Class */
.highlight .no { color: #008080 } /* Name.Constant */
.highlight .ni { color: #800080 } /* Name.Entity */
.highlight .ne { color: #990000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #990000; font-weight: bold } /* Name.Function */
.highlight .nn { color: #555555 } /* Name.Namespace */
.highlight .nt { color: #000080 } /* Name.Tag */
.highlight .nv { color: #008080 } /* Name.Variable */
.highlight .ow { font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #009999 } /* Literal.Number.Float */
.highlight .mh { color: #009999 } /* Literal.Number.Hex */
.highlight .mi { color: #009999 } /* Literal.Number.Integer */
.highlight .mo { color: #009999 } /* Literal.Number.Oct */
.highlight .sb { color: #d14 } /* Literal.String.Backtick */
.highlight .sc { color: #d14 } /* Literal.String.Char */
.highlight .sd { color: #d14 } /* Literal.String.Doc */
.highlight .s2 { color: #d14 } /* Literal.String.Double */
.highlight .se { color: #d14 } /* Literal.String.Escape */
.highlight .sh { color: #d14 } /* Literal.String.Heredoc */
.highlight .si { color: #d14 } /* Literal.String.Interpol */
.highlight .sx { color: #d14 } /* Literal.String.Other */
.highlight .sr { color: #009926 } /* Literal.String.Regex */
.highlight .s1 { color: #d14 } /* Literal.String.Single */
.highlight .ss { color: #990073 } /* Literal.String.Symbol */
.highlight .bp { color: #999999 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #008080 } /* Name.Variable.Class */
.highlight .vg { color: #008080 } /* Name.Variable.Global */
.highlight .vi { color: #008080 } /* Name.Variable.Instance */
.highlight .il { color: #009999 } /* Literal.Number.Integer.Long */
.pl-c {
    color: #969896;
}

.pl-c1,.pl-mdh,.pl-mm,.pl-mp,.pl-mr,.pl-s1 .pl-v,.pl-s3,.pl-sc,.pl-sv {
    color: #0086b3;
}

.pl-e,.pl-en {
    color: #795da3;
}

.pl-s1 .pl-s2,.pl-smi,.pl-smp,.pl-stj,.pl-vo,.pl-vpf {
    color: #333;
}

.pl-ent {
    color: #63a35c;
}

.pl-k,.pl-s,.pl-st {
    color: #a71d5d;
}

.pl-pds,.pl-s1,.pl-s1 .pl-pse .pl-s2,.pl-sr,.pl-sr .pl-cce,.pl-sr .pl-sra,.pl-sr .pl-sre,.pl-src,.pl-v {
    color: #df5000;
}

.pl-id {
    color: #b52a1d;
}

.pl-ii {
    background-color: #b52a1d;
    color: #f8f8f8;
}

.pl-sr .pl-cce {
    color: #63a35c;
    font-weight: bold;
}

.pl-ml {
    color: #693a17;
}

.pl-mh,.pl-mh .pl-en,.pl-ms {
    color: #1d3e81;
    font-weight: bold;
}

.pl-mq {
    color: #008080;
}

.pl-mi {
    color: #333;
    font-style: italic;
}

.pl-mb {
    color: #333;
    font-weight: bold;
}

.pl-md,.pl-mdhf {
    background-color: #ffecec;
    color: #bd2c00;
}

.pl-mdht,.pl-mi1 {
    background-color: #eaffea;
    color: #55a532;
}

.pl-mdr {
    color: #795da3;
    font-weight: bold;
}

.pl-mo {
    color: #1d3e81;
}
.task-list {
padding-left:10px;
margin-bottom:0;
}

.task-list li {
    margin-left: 20px;
}

.task-list-item {
list-style-type:none;
padding-left:10px;
}

.task-list-item label {
font-weight:400;
}

.task-list-item.enabled label {
cursor:pointer;
}

.task-list-item+.task-list-item {
margin-top:3px;
}

.task-list-item-checkbox {
display:inline-block;
margin-left:-20px;
margin-right:3px;
vertical-align:1px;
}
</style>
</head>
<body>
<h1 id="vray-domemaster3d-guide">Vray Domemaster3D Guide</h1>
<hr>
<p>2014-12-25 11:46 am</p>
<h2 id="overview">Overview</h2>
<p>The Domemaster Stereo Shader is a set of fulldome stereo and latlong stereo production lens shaders for 3DS Max, Maya, Softimage, Houdini, Maxwell Studio, Mental Ray Standalone, Vray Standalone, and Arnold Standalone. The lens shaders are available for Mental Ray, Vray, and Arnold, and comes integrated in Maxwell Render version 3.1+.</p>
<p>This guide covers the Vray version of the Domemaster Stereo Shader.</p>
<h2 id="known-issues">Known Issues</h2>
<p>The current version of the Vray Domemaster3D shaders (as of 2014-12-24) is a development build.</p>
<p>The Vray Standalone version generally works without too many issues.</p>
<p>More work needs to be done to apply a black overlay to the circular outside area of the domemaster frame. Right now the DomemasterStereo shader will fill the outside circular area in the frame with a solid color based upon the current data at the 0/0/0 X/Y/Z ray angle. Also the shader doesn&#39;t apply a circular alpha channel overlay yet.</p>
<p>The Maya integration is still a work in progress. The Domemaster3D shaders aren&#39;t yet active in the Maya render view. Also, the custom Vray Extra Attributes haven&#39;t been linked into the Vray for Maya .vrscene exporter.</p>
<p>The initial 3DS Max source code has been added in this v0.3 release but the GUI elements need to be completed and there is a <code>LibDescription</code> error in the source code/makefile that gives an error during compiling.</p>
<h2 id="vray-standalone">Vray Standalone</h2>
<p>Right now the DomemasterStereo and LatLongStereo shaders are accessible from <code>Vray Standalone 2.0 / 3.0</code> and <code>RT for 3DS Max 2015</code> using the <code>vray.exe</code> command line program.</p>
<h3 id="domemasterstereo-in-a-vrscene-file">DomemasterStereo in a VRSCENE File</h3>
<p><img src="images/vray_standalone_domemasterStereo_render.png" alt="DomemasterStereo Renderings"></p>
<p>You can upgrade a regular Vray camera (in this case named RenderCamShape) to a DomemasterStereo camera by finding the camera entry in your Vray .vrscene file and pasting the following text in its place:</p>
<pre><code>DomemasterStereo RenderCamShape {
  camera=0;
  fov_angle=360.0;
  zero_parallax_sphere=355.0;
  separation=6.5;
  forward_tilt=0.0;
  tilt_compensation=0;
  vertical_mode=1;
  separation_map=1.0;
  head_turn_map=1.0;
  head_tilt_map=0.5;
  flip_x=0;
  flip_y=0;
}
</code></pre><p>You can test this code out using the included vray example scene &quot;vray 2 DomemasterStereo.vrscene&quot;. To render the sample scene launch vray standalone from the command prompt with:</p>
<pre><code>vray.exe -sceneFile=&quot;vray 2 DomemasterStereo.vrscene&quot;
</code></pre><h3 id="latlongstereo-in-a-vrscene-file">LatLongStereo in a VRSCENE File</h3>
<p><img src="images/vray_standalone_LatLongStereo_render.png" alt="LatLongStereo Renderings"></p>
<p>You can upgrade a regular Vray camera (in this case named RenderCamShape) to a LatLongStereo camera by finding the camera entry in your Vray .vrscene file and pasting the following text in its place:</p>
<pre><code>LatLongStereo RenderCamShape {
  camera=0;
  fov_vert_angle=180.0;
  fov_horiz_angle=360.0;
  parallax_distance=355;
  separation=6.5;
  zenith_mode=1;
  separation_map=1;
}
</code></pre><p>You can test this code out using the included vray example scene &quot;vray 2 LatLongStereo.vrscene&quot;. To render the sample scene launch vray standalone from the command prompt with:</p>
<pre><code>vray.exe -sceneFile=&quot;vray 2 LatLongStereo.vrscene&quot; 
</code></pre><h2 id="vray-standalone-shader-installation">Vray Standalone Shader Installation</h2>
<h3 id="windows-64-bit">Windows 64-bit</h3>
<p><strong>Step 1.</strong> Download the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=30679">Visual Studio 2012 (VC++ 11.0) Redistributable Package</a>.</p>
<p><strong>Step 2.</strong> Copy the .dll files to the vray-plugins directory:  </p>
<p><code>C:\Program Files\Chaos Group\V-Ray\Standalone for x64\bin\x64\vc101\plugins</code></p>
<p>Vray Plugin Files:</p>
<pre><code>vray_DomemasterStereo.dll
vray_LatLongStereo.dll
</code></pre><p><strong>Step 3.</strong> Edit the Windows environment variables and add an entry for the  <code>VRAY_PLUGINS_x64</code> Vray standalone plugins path location.</p>
<p><img src="images/adding-a-new-env-var.png" alt="Adding an ENV Var"></p>
<p>For Vray Standalone 2.0 the standard <code>VRAY_PLUGINS_x64</code> setting would be:   </p>
<p><code>VRAY_PLUGINS_x64</code><br><code>C:\Program Files\Chaos Group\V-Ray\Standalone for x64\bin\x64\vc101\plugins</code></p>
<h2 id="vray-rt-for-3ds-max-shader-installation">Vray RT for 3DS Max Shader Installation</h2>
<h3 id="windows-64-bit">Windows 64-bit</h3>
<p><strong>Step 1.</strong> Download the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=30679">Visual Studio 2012 (VC++ 11.0) Redistributable Package</a>.</p>
<p><strong>Step 2.</strong> Copy the .dll files to the Vray RT plugins directory.</p>
<p><code>C:\Program Files\Chaos Group\V-Ray\RT for 3ds Max &lt;Max Version&gt; for x64\bin\plugins</code></p>
<p>Note: Change <Max Version> to the release number of 3DS Max. Example: Write in 2015 for the <Max Version> if you are using 3DS Max 2015.</p>
<p>Vray Plugin Files:  </p>
<pre><code>vray_DomemasterStereo.dll (Not compiled yet)
vray_LatLongStereo.dll
</code></pre><p><strong>Step 3.</strong> Edit the Windows environment variables and add an entry for the  <code>VRAY_PLUGINS_x64</code> Vray RT plugins path location.</p>
<p><code>C:\Program Files\Chaos Group\V-Ray\RT for 3ds Max &lt;Max Version&gt; for x64\bin\plugins</code></p>
<p>Note: Change <Max Version> to the release number of 3DS Max. Example: Write in 2015 for the <Max Version> if you are using 3DS Max 2015.</p>
<p><strong>Step 4.</strong> Edit the Windows ENV Path and add the VRay RT <code>Bin</code> folder to the list.</p>
<p><code>;C:\Program Files\Chaos Group\V-Ray\RT for 3ds Max &lt;Max Version&gt; for x64\bin</code></p>
<p>Note: Change <Max Version> to the release number of 3DS Max. Example: Write in 2015 for the <Max Version> if you are using 3DS Max 2015.</p>
<h2 id="verify-the-shader-is-loaded-in-vray">Verify the Shader is Loaded in Vray</h2>
<h3 id="vray-shader-parameters-screenshot">Vray Shader Parameters Screenshot</h3>
<p><img src="images/vray_plugin_parameters.png" alt="Plgparams Listing the Shader Parameters"></p>
<h3 id="listing-the-nodes">Listing the Nodes</h3>
<p>You can list all of the active Vray Shader nodes using the plugin parameters tool:</p>
<h4 id="windows-node-list">Windows Node List</h4>
<p><code>cd C:\Program Files\Chaos Group\V-Ray\Standalone for x64\bin\x64\vc101\</code><br><code>plgparams.exe -list</code></p>
<h4 id="mac-node-list">Mac Node List</h4>
<p><code>cd /Applications/ChaosGroup/V-Ray/Standalone_for_snow_leopard_x86/bin/snow_leopard_x86/gcc-4.2/</code><br><code>./plgparams.bin -list</code></p>
<h4 id="linux-node-list">Linux Node List</h4>
<p><code>./plgparams.bin -list</code></p>
<h3 id="domemasterstereo-node-parameters">DomemasterStereo Node Parameters</h3>
<p>If you run the plgparams with the shader name listed you can see the individual node parameters. If you get a plgparams error asking for the -plugindir that means you are missing the vray plugins environment variable such as <code>VRAY_PLUGINS_x64</code> or <code>VRAY_PLUGINS_x86</code>.</p>
<h4 id="plgparams-exe-domemasterstereo">plgparams.exe DomemasterStereo</h4>
<pre><code>Parameters for plugin &#39;DomemasterStereo&#39;
  camera: integer = 0, Center, Left, Right Camera Views
  fov_angle: float = 180, Field of View
  zero_parallax_sphere: float = 360, Zero Parallax Sphere
  separation: float = 6.5, Camera Separation Distance
  forward_tilt: float = 0, Forward Tilt
  tilt_compensation: bool = false, Tilt Compensation Mode
  vertical_mode: bool = false, Vertical Mode
  separation_map: float = 1, Separation Map
  head_turn_map: float = 1, Head Turn Map
  head_tilt_map: float = 0.5, Head Tilt map
  flip_x: bool = false, Flip X
  flip_y: bool = false, Flip Y
</code></pre><h4 id="plgparams-exe-latlongstereo">plgparams.exe LatLongStereo</h4>
<pre><code>Parameters for plugin &#39;LatLongStereo&#39;
  camera: integer = 0, Center, Left, Right Camera Views
  fov_vert_angle: float = 180, Field of View Vertical
  fov_horiz_angle: float = 360, Field of View Horizontal
  parallax_distance: float = 360, Zero Parallax Distance
  separation: float = 6.5, Camera Separation
  zenith_mode: bool = false, Zenith Mode
  separation_map: float = 1, Separation Map
  head_tilt_map: float = 0.5, Head Tilt map
  flip_x: bool = false, Flip X
  flip_y: bool = false, Flip Y
</code></pre><h4 id="windows-parameters">Windows Parameters</h4>
<p><code>plgparams.exe DomemasterStereo</code><br><code>plgparams.exe LatLongStereo</code>  </p>
<h4 id="mac-parameters">Mac Parameters</h4>
<p><code>./plgparams.bin DomemasterStereo</code><br><code>./plgparams.bin LatLongStereo</code>  </p>
<h4 id="linux-parameters">Linux Parameters</h4>
<p><code>./plgparams.bin DomemasterStereo</code><br><code>./plgparams.bin LatLongStereo</code>  </p>
<h2 id="rendering-the-example-scenes">Rendering the Example Scenes</h2>
<p>If you navigate to the Domemaster3D vray scenes folder you can try rendering the sample vray standalone vrscene files.</p>
<pre><code>vray.exe -sceneFile=&quot;vray 2 DomemasterStereo.vrscene&quot;  
vray.exe -sceneFile=&quot;vray 2 LatLongStereo.vrscene&quot;  

vray.exe -sceneFile=&quot;LatLongStereo_Boxworld_center.vrscene&quot;  
vray.exe -sceneFile=&quot;LatLongStereo_Boxworld_left.vrscene&quot;  
vray.exe -sceneFile=&quot;LatLongStereo_Boxworld_right.vrscene&quot;  

vray.exe -sceneFile=&quot;DomemasterStereo_Boxworld_center.vrscene&quot;  
vray.exe -sceneFile=&quot;DomemasterStereo_Boxworld_left.vrscene&quot;  
vray.exe -sceneFile=&quot;DomemasterStereo_Boxworld_right.vrscene&quot;  
</code></pre><h2 id="adding-a-vray-lens-shader-in-maya">Adding a Vray Lens Shader in Maya</h2>
<p>You can add a custom Vray lens shader to a Maya camera using the <strong>VRay Extra Attributes</strong> feature. </p>
<p>To turn a normal camera into a DomemasterStereo or LatLongStereo formatted camera, select the camera&#39;s shape node in the Attribute Editor window. Open the <code>Attributes &gt; VRay</code> menu, and select either the <code>DomemasterStereo camera</code> or <code>LatLongStereo camera</code> items. </p>
<p>At this point you can turn ON the lens shader by scrolling down to the bottom of the Attribute Editor window and expanding the <code>Extra VRay Attributes</code> section. Then enable the appropriate <code>Treat as a Vray DomemasterStereo</code> or <code>Treat as a Vray LatLongStereo Cam</code> checkbox.</p>
<h3 id="vray-domemasterstereo-camera">VRay DomemasterStereo Camera</h3>
<p><img src="images/vray_DomemasterStereoCamera.png" alt="VRay DomemasterStereo Camera"></p>
<h3 id="vray-latlongstereo-camera">VRay LatLongStereo Camera</h3>
<p><img src="images/vray_LatLongStereoCamera.png" alt="VRay LatLongStereo Camera"></p>
<h3 id="removing-a-lens-shader">Removing a Lens Shader</h3>
<p>You can remove a vray lens shader from a Maya camera by opening the <code>Attributes &gt; VRay</code> menu and unchecking the specific lens shader. This will remove the lens shader&#39;s attributes that are listed in the <code>Extra VRay Attributes</code> section.</p>
<p><img src="images/vray-extra-attributes.png" alt="Adding Extra Attributes"></p>
<h2 id="maya-shader-installation">Maya Shader Installation</h2>
<h3 id="windows-64-bit">Windows 64-bit</h3>
<p><strong>Step 1.</strong><br>Download the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=30679">Visual Studio 2012 (VC++ 11.0) Redistributable Package</a>.</p>
<p><strong>Step 2.</strong><br>Copy the .dll files to the vray-plugins directory:  </p>
<p><code>C:\Program Files\Autodesk\Maya&lt;Version&gt;\vray\vrayplugins\</code></p>
<p>Vray Plugin Files:</p>
<pre><code>vray_DomemasterStereo.dll
vray_LatLongStereo.dll
</code></pre><p><strong>Step 3.</strong><br>Copy the Maya Vray script files to the Vray scripts folder:  </p>
<p><code>C:\Program Files\Autodesk\Maya&lt;Version&gt;\vray\scripts</code></p>
<p>Vray Script Files:</p>
<pre><code>attributes.txt
attributeNodes.txt
attributeGroups.txt
vrayAEFunctions.mel
</code></pre><p><strong>Note:</strong> The 4 vray script files listed above already exist in the standard vray install. Those items need to be replaced with new ones that have the DomemasterStereo and LatLongStereo modules integrated in the settings. You should make a backup copy of the original files so you can restore them if required.</p>
<h3 id="mac-64-bit">Mac 64-bit</h3>
<p><strong>Step 1.</strong><br>Copy the .so files to the vray-plugins directory:  </p>
<p><code>/Applications/Autodesk/maya2015/vray/vrayplugins</code></p>
<p>Vray Plugin Files:</p>
<pre><code>vray_DomemasterStereo.so
vray_LatLongStereo.so
</code></pre><p><strong>Step 2.</strong><br>Copy the Maya Vray script files to the Vray scripts folder:  </p>
<p><code>/Applications/Autodesk/maya2015/vray/scripts</code></p>
<p>Vray Script Files:</p>
<pre><code>attributes.txt
attributeNodes.txt
attributeGroups.txt
vrayAEFunctions.mel
</code></pre><p><strong>Note:</strong> The 4 vray script files listed above already exist in the standard vray install. Those items need to be replaced with new ones that have the DomemasterStereo and LatLongStereo modules integrated in the settings. You should make a backup copy of the original files so you can restore them if required.</p>
<h3 id="linux-64-bit">Linux 64-bit</h3>
<p><strong>Step 1.</strong><br>Copy the .so files to the vray-plugins directory:  </p>
<p><code>/opt/Autodesk/Maya&lt;Version&gt;/vray/vrayplugins/</code></p>
<p>Vray Plugin Files:</p>
<pre><code>vray_DomemasterStereo.so
vray_LatLongStereo.so
</code></pre><p><strong>Step 3.</strong><br>Copy the Maya Vray script files to the Vray scripts folder:  </p>
<p><code>/opt/Autodesk/Maya&lt;Version&gt;/vray/scripts</code></p>
<p>Vray Script Files:</p>
<pre><code>attributes.txt
attributeNodes.txt
attributeGroups.txt
vrayAEFunctions.mel
</code></pre><p><strong>Note:</strong> The 4 vray script files listed above already exist in the standard vray install. Those items need to be replaced with new ones that have the DomemasterStereo and LatLongStereo modules integrated in the settings. You should make a backup copy of the original files so you can restore them if required.</p>
<h2 id="compiling-instructions">Compiling Instructions</h2>
<h3 id="windows-64-bit">Windows 64-bit</h3>
<p><strong>Step 1.</strong><br>Install Visual Studio and Vray Standalone (which includes a copy of the Vray plugin SDK).</p>
<p><strong>Step 2.</strong><br>Open a new command prompt and cd into the vray cameras source code folder:</p>
<p><code>cd C:\Program Files\Chaos Group\V-Ray\Maya 2015 for x64\samples\vray_plugins\cameras</code></p>
<p><strong>Step 3.</strong><br>Copy the Domemaster3D <code>vray_DomemasterStereo</code> and <code>vray_LatLongStereo</code> source code folders into the vray cameras source code folder. </p>
<p><strong>Step 4.</strong><br>Compile the source code in Visual Studio 11 with the following project files:</p>
<p><code>vray_DomemasterStereo.vcxproj</code><br><code>vray_LatLongStereo.vcxproj</code>  </p>
<p>If you are running an older version of Visual Studio you can use the legacy Microsoft Developer Studio project file:  </p>
<p><code>vray_DomemasterStereo.dsp</code><br><code>vray_LatLongStereo.dsp</code>  </p>
<h3 id="mac-os-x-64-bit">Mac OS X 64-bit</h3>
<p>There are issues with the Domemaster3D makefile on Mac OS X. At this point a few of the required vray on Mac shader compiling details are not known by the Domemaster3D developer. This means Mac support is currently a work-in-progress endeavour.</p>
<p><strong>Step 1.</strong><br>Install Xcode and Vray Standalone (which includes a copy of the Vray plugin SDK).</p>
<p><strong>Step 2.</strong><br>Open a new terminal window and cd into the source code folder.</p>
<p><strong>Step 3.</strong><br>Edit the Makefile.osx file and change the <code>MAYA_VERSION</code> variable to match your current Maya release, and update the <code>MAYA_VRAY_PLUG_DIR</code>, <code>VRAY_STANDALONE_DIR</code>, <code>VRAY_LIB_DIR</code>, <code>VRAY_PLUG_DIR</code> variables to match your current vray standalone directory names.</p>
<p><strong>Step 4.</strong><br>Use the Mac OS X makefile to compile a new <code>vray_DomemasterStereo.so</code> and <code>vray_LatLongStereo</code> shader:  </p>
<p><code>Make -f Makefile.osx</code></p>
<p><strong>Step 5.</strong><br>At this point in time the Vray Standalone release for Mac OS X is i386 (32-bit) and the Mac OS X Maya Vray build is x64 (64-bit). This will require the makefile to be updated to match your desired build target.</p>
<p>You can check your compiled .so architecture with the following commands:</p>
<p>otool -L libvray_LatLongStereo.so<br>lipo -info libvray_LatLongStereo.so   </p>
<p>otool -L libvray_DomemasterStereo.so<br>lipo -info libvray_DomemasterStereo.so   </p>
<h3 id="linux-64-bit">Linux 64-bit</h3>
<p>At this point a few of the required Vray on Linux shader compiling details are not known by the Domemaster3D developer. This means Linux support is currently a work-in-progress endeavour.</p>
<h2 id="credits">Credits</h2>
<ul>
<li>Roberto Ziche created the original <code>domeAFL_FOV_Stereo</code> and <code>LatLong_Stereo</code> shader for mental ray on 3DS Max.</li><li>Andrew Hazelden ported the shader to Vray.</li><li>Daniel Ott created the original 2D <code>domeAFL_FOV</code> for mental ray.</li><li>Thanks to Trygve Wastvedt for his help in getting the Vray for 3DS Max port started.</li></ul>
<h2 id="version-history">Version History</h2>
<h3 id="version-0-1-2014-11-14">Version 0.1 - 2014-11-14</h3>
<ul>
<li>Initial Vray support.</li></ul>
<h3 id="version-0-2-2014-11-26">Version 0.2 - 2014-11-26</h3>
<ul>
<li>Updated the DomemasterStereo and LatLongStereo camera org code. Hopefully this fixed the stereo rendering issues</li><li>Rotated the DomemasterStereo view by 90 degrees clockwise to match the mental ray domeAFL_FOV_Stereo shader.</li></ul>
<h3 id="version-0-3-2014-12-24">Version 0.3 - 2014-12-24</h3>
<ul>
<li>Added Vray 3.0 support for Maya/Standalone/Vray RT</li><li>Added a Vray 3.0 for Max version of the <code>DomemasterStereo</code> and <code>LatLongStereo</code> source code. The GUI elements still need to be fine tuned and the Visual Studio makefile needs a bit of work to fix a <code>LibDescription</code> compiling error.</li></ul>
<h2 id="to-do-list">To Do List</h2>
<h3 id="domemasterstereo-to-dos">DomemasterStereo To Dos</h3>
<ul>
<li>Correctly handle the black matting of the domemaster frame when &quot;if (r &lt; 1.0)&quot; is false</li><li>Implement the head tilt code</li></ul>
<h3 id="vray-for-maya-to-dos">Vray for Maya To Dos</h3>
<ul>
<li>Get the DomemasterStereo and LatLongStereo shaders to render inside of Maya&#39;s render view</li><li>Get the Maya custom Vray Extra Attributes linked into the Vray for Maya .vrscene exporter</li></ul>
<h3 id="vray-for-3ds-max-to-dos">Vray for 3DS Max To Dos</h3>
<ul>
<li><p>Finish up the 3DS Max GUI elements for the DomemasterStereo and LatLongStereo shaders.</p>
</li><li><p>Fix the <code>LibDescription</code> dllexport compiler error in the source code:</p>
<pre><code>  warning LNK4022: cannot find unique match for symbol &#39;LibDescription&#39;
  warning LNK4002: &quot;char const * __cdecl LibDescription(void)&quot; (?LibDescription@@YAPEBDXZ) defined in .\..\..\build\vraylatlongstereo\max2015\x64\official\vraylatlongstereo.obj
  warning LNK4002: &quot;wchar_t const * __cdecl LibDescription(void)&quot; (?LibDescription@@YAPEB_WXZ) defined in ..\..\..\lib\x64\vrender2015.lib
  error LNK2001: unresolved external symbol LibDescription
</code></pre></li></ul>
<h3 id="shader-testing-to-dos">Shader Testing To Dos</h3>
<ul>
<li>Generate a .vrscene file with screen space texture maps linked into the DomemasterStereo and LatLongStereo attributes.</li></ul>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
